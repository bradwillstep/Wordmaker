<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Wordmaker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#111111" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Wordmaker" />

  <!-- Icons -->
  <link rel="icon" href="icon-192.png" sizes="192x192" />
  <link rel="icon" href="icon-512.png" sizes="512x512" />
  <link rel="apple-touch-icon" href="icon-192.png" />

  <link rel="stylesheet" href="style.css?v=20260111-221352-4061" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="brand__title">Wordmaker</div>
      <div class="brand__subtitle">Like Word — lightweight, offline-ready.</div>
    </div>

    <div class="row">
      <button id="btnNew" class="btn">New</button>
      <button id="btnOpen" class="btn">Open</button>
      <button id="btnSave" class="btn">Save</button>

      <div class="divider"></div>

      <button id="btnUndo" class="btn">Undo</button>
      <button id="btnRedo" class="btn">Redo</button>

      <div class="divider"></div>

      <select id="fontFamily" class="select" title="Font">
        <option value="Arial" selected>Arial</option>
        <option value="Calibri">Calibri</option>
        <option value="Georgia">Georgia</option>
        <option value="Times New Roman">Times New Roman</option>
        <option value="Verdana">Verdana</option>
        <option value="Courier New">Courier New</option>
      </select>

      <select id="fontSize" class="select" title="Size">
        <option>10</option><option>11</option><option selected>12</option><option>14</option><option>16</option>
        <option>18</option><option>20</option><option>24</option><option>28</option><option>32</option><option>36</option><option>48</option>
      </select>

      <div class="divider"></div>

      <button id="btnBold" class="btn btn--toggle" title="Bold"><b>B</b></button>
      <button id="btnItalic" class="btn btn--toggle" title="Italic"><i>I</i></button>
      <button id="btnUnderline" class="btn btn--toggle" title="Underline"><u>U</u></button>
      <button id="btnStrike" class="btn btn--toggle" title="Strikethrough"><s>S</s></button>

      <div class="divider"></div>

      <button id="btnAlignLeft" class="btn" title="Align left">⟸</button>
      <button id="btnAlignCenter" class="btn" title="Center">≡</button>
      <button id="btnAlignRight" class="btn" title="Align right">⟹</button>
      <button id="btnAlignJustify" class="btn" title="Justify">☰</button>

      <div class="divider"></div>

      <button id="btnBullets" class="btn" title="Bullets">• List</button>
      <button id="btnNumbered" class="btn" title="Numbered">1. List</button>
      <button id="btnIndent" class="btn" title="Indent">→</button>
      <button id="btnOutdent" class="btn" title="Outdent">←</button>

      <div class="divider"></div>

      <label class="chk">
        <input id="togglePageMode" type="checkbox" />
        <span>Page mode</span>
      </label>

      <button id="btnPrint" class="btn">Print</button>
      <button id="btnInstall" class="btn btn--install hidden">Install</button>

      <div class="spacer"></div>

      <button id="btnExportDocx" class="btn btn--primary">Export DOCX</button>
      <button id="btnExportPdf" class="btn btn--primary">Export PDF</button>
    </div>
  </header>

  <main class="app">
    <aside class="side">
      <div class="panel">
        <div class="panel__title">Document</div>
        <div class="panel__row">
          <label class="field">
            <span>Title</span>
            <input id="docTitle" class="input" placeholder="Untitled document" />
          </label>
        </div>

        <div class="panel__row">
          <button id="btnFindReplace" class="btn btn--wide">Find / Replace</button>
          <button id="btnInsertDate" class="btn btn--wide">Insert date/time</button>
          <button id="btnClearFormatting" class="btn btn--wide">Clear formatting</button>
        </div>

        <div class="panel__divider"></div>

        <div class="panel__row stats">
          <div><span class="k">Words:</span> <span id="statWords">0</span></div>
          <div><span class="k">Chars:</span> <span id="statChars">0</span></div>
          <div><span class="k">Saved:</span> <span id="statSaved">No</span></div>
        </div>

        <div class="panel__hint">
          Tip: This editor is fully client-side. Your text stays on your device.
        </div>
      </div>
    </aside>

    <section class="doc">
      <div id="pageWrap" class="pageWrap">
        <div id="editor" class="editor" contenteditable="true" spellcheck="true" aria-label="Document editor">
          <p class="placeholder">Tap here to start typing ✨</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Dialogs -->
  <dialog id="dlgOpen" class="dlg">
    <form method="dialog" class="dlg__body">
      <div class="dlg__title">Open (.wm.json)</div>
      <input id="fileOpen" type="file" accept=".wm.json,application/json" class="file" />
      <div class="dlg__actions">
        <button value="cancel" class="btn">Cancel</button>
      </div>
      <p class="dlg__small">Wordmaker saves as a portable JSON file (includes title + formatting).</p>
    </form>
  </dialog>

  <dialog id="dlgFind" class="dlg">
    <form method="dialog" class="dlg__body">
      <div class="dlg__title">Find / Replace</div>

      <label class="field">
        <span>Find</span>
        <input id="findText" class="input" placeholder="Text to find" />
      </label>

      <label class="field">
        <span>Replace with</span>
        <input id="replaceText" class="input" placeholder="Replacement" />
      </label>

      <label class="chk">
        <input id="findCase" type="checkbox" />
        <span>Match case</span>
      </label>

      <div class="dlg__actions">
        <button value="cancel" class="btn">Close</button>
        <button id="btnFindNext" value="noop" class="btn">Find next</button>
        <button id="btnReplaceOne" value="noop" class="btn">Replace</button>
        <button id="btnReplaceAll" value="noop" class="btn btn--primary">Replace all</button>
      </div>

      <p class="dlg__small">Find/Replace works on the document text. For best results, use plain text search terms.</p>
    </form>
  </dialog>

  <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>

  <!-- Libraries for real DOCX/PDF export -->
  <script src="https://cdn.jsdelivr.net/npm/html-to-docx@1.8.0/dist/html-to-docx.umd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

  <script>window.__WORDMAKER_VERSION__="20260111-221352-4061";</script>
  <script src="script.js?v=20260111-221352-4061"></script>
</body>
</html>
